[gd_scene load_steps=22 format=3 uid="uid://dykb6ha8tuqnc"]

[ext_resource type="Script" uid="uid://dqljhjxdxrynr" path="res://obj/rooms/Cell/containment_cell.gd" id="1_nr55g"]
[ext_resource type="Texture2D" uid="uid://dk3oyyt6aqsys" path="res://img/Cell/isolate_2-resources.assets-4752.png" id="1_tahq2"]
[ext_resource type="PackedScene" uid="uid://dblm4m3puom7t" path="res://obj/rooms/Cell/ProgressBar.tscn" id="2_el2pj"]
[ext_resource type="Texture2D" uid="uid://ccxxg7u3mia6w" path="res://img/Cell/cog.png" id="2_yby8p"]
[ext_resource type="Script" uid="uid://bpdqcempefb6o" path="res://res/abno_resources/Abnormalities/base_abno_res.gd" id="2_yi4f0"]
[ext_resource type="Texture2D" uid="uid://cwqjvhp6iq4vj" path="res://img/Cell/FirstAnim.png" id="3_lekry"]
[ext_resource type="Script" uid="uid://cy2if0c6k4k5x" path="res://res/abno_resources/custom_works/base_work.gd" id="3_yi4f0"]
[ext_resource type="FontFile" uid="uid://d28nsu3jcup13" path="res://res/style/fonts/norwester.otf" id="6_jbm6o"]
[ext_resource type="Script" uid="uid://br7vv88hosypw" path="res://obj/rooms/Cell/camera_area.gd" id="6_lekry"]
[ext_resource type="Resource" uid="uid://bj2yh43oax8q6" path="res://res/abno_resources/custom_works/new_resource.tres" id="7_yi4f0"]
[ext_resource type="Texture2D" uid="uid://chng3andowbph" path="res://img/Cell/Room.png" id="11_yi4f0"]
[ext_resource type="PackedScene" uid="uid://dui8l2o3osfd5" path="res://obj/rooms/waypoint.tscn" id="13_l37jk"]

[sub_resource type="Resource" id="Resource_l37jk"]
script = ExtResource("2_yi4f0")
code = "O-00-00"
monster_name = "Nothing Here"
threat_level = 1
hp = 200
max_hp = 200
damage_type = "physical"
damage_output = 5
attack_speed = 3
travel_speed = 5
unique_pe = 0
damage_res_phys = 1.0
damage_res_ment = 2.0
works = Array[ExtResource("3_yi4f0")]([ExtResource("7_yi4f0"), ExtResource("7_yi4f0"), ExtResource("7_yi4f0"), ExtResource("7_yi4f0")])
current_room = NodePath("")
path2d_progress = 0.0
weapon_cost = 1
armor_cost = 1
mechanics_info = Array[String](["WOOOOOOOOOOOOOO", "WEEEEEEEEEEEEE", "WAAAAAAAAAAAAAAAAAaaa"])
lore = "Just nothing"
metadata/_custom_type_script = "uid://bpdqcempefb6o"

[sub_resource type="LabelSettings" id="LabelSettings_y4nra"]
font_size = 72
font_color = Color(1, 1, 0.596078, 1)

[sub_resource type="LabelSettings" id="LabelSettings_vadps"]
font = ExtResource("6_jbm6o")
font_size = 60
font_color = Color(1, 1, 0.596078, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pswui"]
size = Vector2(945, 73)

[sub_resource type="Animation" id="Animation_526i6"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("3_lekry")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_a6y2d"]
resource_name = "Tenna Idle"
length = 1.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("3_lekry")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame")
tracks/1/interp = 0
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 0.533333, 0.866667, 1.16667, 1.43333, 1.63333, 9.46667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [10, 23, 30, 46, 58, 70, 82, 92]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_47luy"]
_data = {
&"RESET": SubResource("Animation_526i6"),
&"Tenna Idle": SubResource("Animation_a6y2d")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yby8p"]
size = Vector2(905, 559)

[sub_resource type="Curve2D" id="Curve2D_yi4f0"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 971, 643, 0, 0, 0, 0, -482.945, 643)
}
point_count = 2

[node name="ContainmentCell" type="Node2D"]
script = ExtResource("1_nr55g")
anomaly = SubResource("Resource_l37jk")

[node name="Unique_PE_Counter" type="Label" parent="."]
z_index = 8
offset_left = 1020.18
offset_top = 51.8692
offset_right = 1124.18
offset_bottom = 150.869
text = "0"
label_settings = SubResource("LabelSettings_y4nra")
metadata/_edit_use_anchors_ = true

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(599, 473)
texture = ExtResource("1_tahq2")

[node name="AbnoName" type="Button" parent="."]
offset_left = 147.447
offset_top = 87.0115
offset_right = 821.447
offset_bottom = 165.011
theme_override_fonts/font = ExtResource("6_jbm6o")
theme_override_font_sizes/font_size = 60
metadata/_edit_use_anchors_ = true

[node name="Name" type="Label" parent="AbnoName"]
z_index = 1
layout_mode = 0
offset_left = 1.7339
offset_top = 5.27877
offset_right = 562.734
offset_bottom = 77.2788
text = "Abnormality Name"
label_settings = SubResource("LabelSettings_vadps")
metadata/_edit_use_anchors_ = true

[node name="Floor" type="Area2D" parent="."]
position = Vector2(546, 750)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
position = Vector2(57, 3)
shape = SubResource("RectangleShape2D_pswui")

[node name="CameraArea" type="Area2D" parent="."]
position = Vector2(124, 172.001)
script = ExtResource("6_lekry")
stats = Array[Resource]([ExtResource("7_yi4f0"), ExtResource("7_yi4f0"), ExtResource("7_yi4f0"), ExtResource("7_yi4f0")])

[node name="Sprite2D" type="Sprite2D" parent="CameraArea"]
position = Vector2(404, 213.999)
texture = ExtResource("11_yi4f0")

[node name="Bar" parent="CameraArea/Sprite2D" instance=ExtResource("2_el2pj")]
position = Vector2(-435, 81)

[node name="Cog" type="Sprite2D" parent="CameraArea/Sprite2D"]
z_index = -3
position = Vector2(-519, 269)
scale = Vector2(0.295, 0.2875)
texture = ExtResource("2_yby8p")

[node name="AnimationPlayer" type="AnimationPlayer" parent="CameraArea/Sprite2D/Cog"]
root_node = NodePath("../../../..")
libraries = {
&"": SubResource("AnimationLibrary_47luy")
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="CameraArea"]
position = Vector2(466.5, 291.5)
shape = SubResource("RectangleShape2D_yby8p")
debug_color = Color(7.70092e-07, 0.648282, 0.185883, 0.42)

[node name="WorkContainer" type="BoxContainer" parent="CameraArea"]
offset_left = -124.0
offset_top = -172.001
offset_right = -124.0
offset_bottom = -172.001
metadata/_edit_use_anchors_ = true

[node name="room_path" type="Path2D" parent="."]
position = Vector2(591, 644)
scale = Vector2(0.391349, -0.00155521)
curve = SubResource("Curve2D_yi4f0")

[node name="waypoint" parent="room_path" node_paths=PackedStringArray("self_room") instance=ExtResource("13_l37jk")]
position = Vector2(971, 643)
rotation = 3.14159
self_room = NodePath("../..")

[node name="WindowLayer" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[connection signal="button_down" from="AbnoName" to="." method="_on_abno_name_button_down"]
[connection signal="mouse_entered" from="CameraArea" to="CameraArea" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="CameraArea" to="CameraArea" method="_on_mouse_exited"]
[connection signal="work_completed" from="CameraArea/Sprite2D/Bar" to="." method="_on_bar_work_completed"]
[connection signal="work_completed" from="CameraArea/Sprite2D/Bar" to="CameraArea" method="_on_progress_bar_work_completed"]
